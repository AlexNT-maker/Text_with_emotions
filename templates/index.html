<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Emotion Detector</title>
         <link rel="stylesheet" href="{{ url_for('static', filename='styles.css') }}">


    </head>

<!--Simple text input form-->
<body>
    <h1>Lets see what your words are hiding</h1>
    <form action="/analyze" method="POST">
<label for="text">Enter your text:</label><br>
        <textarea id="user_text" name="user_text" rows="10" cols="50"  placeholder="Put your text here"></textarea><br><br>
        <p><span id="charCount">0</span>characters</p>
<button type="submit" id="submit-btn"> Analyze </button>

<button id="reset-btn" type="button">Reset ‚ùå</button>



 <div id="loader" style="display:none; margin-top: 10px;">Analyzing...
    <span id="timer">0</span>s
 </div>

    </form>

<script>
    const textarea = document.getElementById("user_text");
    const charCount = document.getElementById("charCount");
    const form = document.querySelector("form");
    const submitButton = document.getElementById("submit-btn");
    const loader = document.getElementById("loader");
    const resetBtn = document.getElementById("reset-btn");

    // Character Counter
    textarea.addEventListener("input", () => {
        charCount.textContent = textarea.value.length;
    });

    // Loader logic
    form.addEventListener("submit", () => {
        submitButton.style.display = "none";    // we hide the submit button
        loader.style.display = "block";         // we show the loader

        let seconds = 0;
        const timerSpan = document.getElementById("timer");

        const Interval = setInterval(() => {
            seconds++;
            timerSpan.textContent = seconds;
        }, 1000);
    });



resetBtn.addEventListener("click", () => {
  textarea.value = "";
  charCount.textContent = "0";
});

</script>


    
</body>

</html>